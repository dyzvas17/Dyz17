<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Private Haven</title>
<style>
:root{
  --bg:#111; --card:#1c1c1c; --text:#fff; --accent:#ff4d6d; --glow:#ff4d6d; --bg-img:none;
}
body{
  margin:0; font-family:Arial,sans-serif; background:var(--bg); color:var(--text);
  display:flex; justify-content:center; align-items:center; height:100vh; overflow:hidden; transition:0.5s;
}
.app{
  width:90%; max-width:420px; height:90vh; background:var(--card); border-radius:25px;
  padding:20px; display:flex; flex-direction:column; align-items:center; transition:0.5s; overflow:hidden;
}

/* Buttons */
button{border:none; cursor:pointer; transition:0.3s;}
.square-btn{
  width:140px; height:140px; margin:10px; border-radius:15px; font-size:18px;
  background:var(--accent); color:#fff; display:flex; justify-content:center; align-items:center;
  box-shadow:0 0 12px var(--glow); animation:pulse 2s infinite alternate;
}
.square-btn:hover{transform:scale(1.05);}
@keyframes pulse{from{box-shadow:0 0 10px var(--glow);} to{box-shadow:0 0 20px var(--glow);}}

/* Floating theme button */
.floating-theme{
  position:absolute; top:15px; right:15px; width:55px; height:55px; border-radius:12px;
  background:var(--accent); display:flex; justify-content:center; align-items:center; font-size:22px; color:#fff;
  box-shadow:0 0 12px var(--glow); cursor:pointer; animation:pulse 2s infinite alternate;
}

/* Big buttons */
.big-btn{
  margin-top:15px; padding:14px 0; width:100%; border-radius:12px; font-size:18px;
  background:var(--accent); color:#fff; box-shadow:0 0 12px var(--glow); animation:pulse 2s infinite alternate;
}
.big-btn:hover{transform:scale(1.05);}
input{padding:14px; width:100%; border-radius:12px; border:none; margin-top:15px; font-size:16px;}

/* Fullscreen overlay */
.fullscreen-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh; background:rgba(0,0,0,0.95);
display:flex; justify-content:center; align-items:center; z-index:200; opacity:0; pointer-events:none; transition:0.3s;}
.fullscreen-overlay.show{opacity:1; pointer-events:all;}
.fullscreen-overlay img{max-width:95%; max-height:90%; border-radius:12px; transition:transform 0.3s;}
.fullscreen-overlay button{position:absolute;top:20px; right:20px; font-size:22px; background:var(--accent); color:#fff; border-radius:8px; padding:8px 12px;}

/* Birthday particles container */
#particles{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:150;}

/* Birthday card */
#birthdayCard{
  position:absolute; width:250px; height:350px; top:50%; left:50%; transform:translate(-50%, -50%) scale(0);
  border-radius:20px; background:#ff4d6d url('https://via.placeholder.com/250x350.png?text=Love+Letter') center/cover no-repeat;
  box-shadow:0 0 25px var(--glow); transition:0.6s; z-index:160; cursor:pointer;
}
#birthdayCard.glow{box-shadow:0 0 30px 10px #ff4d6d,0 0 20px #fff inset; animation:glowPulse 1s infinite alternate;}
@keyframes glowPulse{from{box-shadow:0 0 20px 5px #ff4d6d;} to{box-shadow:0 0 40px 15px #ff4d6d;}}

/* Swipe animation */
.swipe{
  transition: transform 0.5s ease-out, opacity 0.5s ease-out;
  transform: translateX(300px) rotate(15deg);
  opacity:0;
}
</style>
</head>
<body>

<div class="app" id="app">
  <h2>Enter Password</h2>
  <input type="password" id="pw" placeholder="Only you know...">
  <button class="big-btn" onclick="unlock()">Unlock</button>
  <p id="msg"></p>
</div>

<div id="particles"></div>
<div id="birthdayCard"></div>

<div class="fullscreen-overlay" id="fsOverlay">
  <img id="fsImg" src="">
  <button onclick="closeFullScreen()">‚úï</button>
</div>

<audio id="bdayMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>

<script>
let currentMemoryStyle="polaroid";
const memories=["memory1.jpeg","memory2.jpeg","memory3.jpeg","memory4.jpeg","memory5.jpeg","memory6.jpeg"];

function unlock(){
  const pw=document.getElementById("pw").value;
  if(pw==="1234") loadHome();
  else document.getElementById("msg").innerText="Wrong password.";
}

function fadeSwitch(newContent){
  const app=document.getElementById("app");
  app.style.opacity=0;
  setTimeout(()=>{app.innerHTML=newContent; app.style.opacity=1;},300);
}

/* Home Screen */
function loadHome(){
  fadeSwitch(`
    <div class="floating-theme" onclick="themeMenu()">üé®</div>
    <div style="display:flex; flex-direction:column; align-items:center; margin-top:60px;">
      <button class="square-btn" onclick="showBirthday()">Birthday üéÇ</button>
      <button class="square-btn" onclick="showLetters()">Letters üíå</button>
      <button class="square-btn" onclick="showMemories()">Memories üì∏</button>
      <button class="square-btn" onclick="showUs()">Us ‚ù§Ô∏è</button>
    </div>
  `);
}

/* Birthday */
function showBirthday(){
  fadeSwitch(`<button class='big-btn' onclick='loadHome()'>‚Üê Back</button><h2>Birthday üéÇ</h2>`);
  playParticles();
  setTimeout(()=>{showCard(); document.getElementById('bdayMusic').play();},800);
}

function playParticles(){
  const container = document.getElementById('particles');
  container.innerHTML='';
  for(let i=0;i<60;i++){
    const p=document.createElement('div');
    p.style.position='absolute';
    p.style.width='8px';
    p.style.height='8px';
    p.style.background=['#ff4d6d','#fff','#ffdd00','#00ffe0'][Math.floor(Math.random()*4)];
    p.style.borderRadius='50%';
    p.style.top='50%';
    p.style.left='50%';
    p.style.opacity=1;
    p.style.transform=`translate(${Math.random()*200-100}px,${Math.random()*200-100}px)`;
    p.style.transition='all 1s ease-out';
    container.appendChild(p);
    setTimeout(()=>{p.style.top=Math.random()*100+'%'; p.style.left=Math.random()*100+'%'; p.style.opacity=0;},50);
  }
}

/* Show Birthday Card */
function showCard(){
  const card=document.getElementById('birthdayCard');
  card.style.transform='translate(-50%,-50%) scale(1)';
  card.classList.add('glow');

  let startX = 0;
  let currentX = 0;
  let swiping = false;

  card.addEventListener('pointerdown', (e)=>{
    startX = e.clientX;
    swiping=true;
  });
  card.addEventListener('pointermove', (e)=>{
    if(!swiping) return;
    currentX = e.clientX - startX;
    card.style.transform = `translate(calc(-50% + ${currentX}px), -50%) scale(1) rotate(${currentX/10}deg)`;
  });
  card.addEventListener('pointerup', ()=>{
    if(currentX>100){ card.classList.add('swipe'); setTimeout(()=>{card.style.display='none';},500);}
    else{ card.style.transform='translate(-50%,-50%) scale(1)';}
    swiping=false; currentX=0;
  });
}

/* Letters / Us */
function showLetters(){ 
  fadeSwitch(`<button class='big-btn' onclick='loadHome()'>‚Üê Back</button><h2>Letters üíå</h2><div id="letter"></div>`); 
  const text="Dear love, this is our letters section, each word for you ‚ù§Ô∏è"; let i=0; const letterDiv=document.getElementById("letter");
  function typeWriter(){ if(i<text.length){letterDiv.innerHTML+=text.charAt(i); i++; setTimeout(typeWriter,50);} }
  typeWriter();
}
function showUs(){ fadeSwitch(`<button class='big-btn' onclick='loadHome()'>‚Üê Back</button><h2>Us ‚ù§Ô∏è</h2><p>All our special memories together in one place!</p>`);}

/* Memories */
function showMemories(){ renderMemories(currentMemoryStyle); }

function renderMemories(style){
  let html=`<button class='big-btn' onclick='loadHome()'>‚Üê Back</button>
            <div class="memories-container ${style}">
            <div class="mem-style-btn" onclick="styleMenu()">‚ö°</div>`;
  if(style==="flip"){
    memories.forEach((src,i)=>{
      html+=`<div class="flip-container" onmousedown="openFullScreen('${src}')">
      <div class="flip-card">
        <div class="flip-card-front" style="background-image:url('${src}')"></div>
        <div class="flip-card-back">Memory ${i+1}</div>
      </div></div>`;
    });
  } else {
    memories.forEach((src,i)=>{ html+=`<img src="${src}" style="--i:${i}" alt="Memory ${i+1}" onmousedown="openFullScreen('${src}')">`; });
  }
  html+=`</div>`;
  fadeSwitch(html);
}

/* Fullscreen */
function openFullScreen(src){ const img=document.getElementById("fsImg"); const overlay=document.getElementById("fsOverlay"); img.src=src; overlay.classList.add("show"); img.style.transform="scale(0.8)"; setTimeout(()=>{img.style.transform="scale(1)";},50);}
function closeFullScreen(){ document.getElementById("fsOverlay").classList.remove("show"); }

/* Theme menu */
function themeMenu(){ fadeSwitch(`<h3>Select Theme</h3>
<button class="big-btn" onclick='setDark()'>Dark</button>
<button class="big-btn" onclick='setSoft()'>Soft</button>
<button class="big-btn" onclick='setClassic()'>Classic</button>
<button class="big-btn" onclick='setNightwing()'>Nightwing</button>
<button class="big-btn" onclick='setToji()'>Toji</button>
<button class="big-btn" onclick='loadHome()'>‚Üê Back</button>`); }

/* Themes */
function setDark(){ document.documentElement.style.setProperty('--bg','#111'); document.documentElement.style.setProperty('--card','#1c1c1c'); document.documentElement.style.setProperty('--text','#fff'); document.documentElement.style.setProperty('--accent','#ff4d6d'); document.documentElement.style.setProperty('--glow','#ff4d6d'); document.documentElement.style.setProperty('--bg-img','none'); }
function setSoft(){ document.documentElement.style.setProperty('--bg','#ffeef2'); document.documentElement.style.setProperty('--card','#fff'); document.documentElement.style.setProperty('--text','#333'); document.documentElement.style.setProperty('--accent','#ff85a2'); document.documentElement.style.setProperty('--glow','#ff85a2'); document.documentElement.style.setProperty('--bg-img','none'); }
function setClassic(){ document.documentElement.style.setProperty('--bg','#fff'); document.documentElement.style.setProperty('--card','#f5f5f5'); document.documentElement.style.setProperty('--text','#000'); document.documentElement.style.setProperty('--accent','#000'); document.documentElement.style.setProperty('--glow','#000'); document.documentElement.style.setProperty('--bg-img','none'); }
function setNightwing(){ document.documentElement.style.setProperty('--bg','#0a0a0f'); document.documentElement.style.setProperty('--card','#11121a'); document.documentElement.style.setProperty('--text','#a8d0f0'); document.documentElement.style.setProperty('--accent','#1c8adb'); document.documentElement.style.setProperty('--glow','#1c8adb'); document.documentElement.style.setProperty('--bg-img','url("nightwing-bg.jpeg")'); }
function setToji(){ document.documentElement.style.setProperty('--bg','#000'); document.documentElement.style.setProperty('--card','#1a1a1a'); document.documentElement.style.setProperty('--text','#dcdfff'); document.documentElement.style.setProperty('--accent','#8a2be2'); document.documentElement.style.setProperty('--glow','#8a2be2'); document.documentElement.style.setProperty('--bg-img','url("toji-bg.jpeg")'); }

</script>

</body>
</html>
