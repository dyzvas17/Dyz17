<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Private Haven</title>
<style>
:root {
  --bg: #111;
  --card: #1c1c1c;
  --text: #fff;
  --accent: #ff4d6d;
  --bg-img: none;
  --glow-color: #ff4d6d;
}

body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  background-image: var(--bg-img);
  background-size: cover;
  background-position: center;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow: hidden;
  transition: background 0.5s, color 0.5s, background-image 0.5s;
}

.app {
  width: 90%;
  max-width: 420px;
  height: 90vh;
  background: var(--card);
  border-radius: 25px;
  padding: 20px;
  box-sizing: border-box;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: background 0.5s, color 0.5s;
}

button {
  padding: 14px;
  margin-top: 15px;
  border-radius: 12px;
  border: none;
  background: var(--accent);
  color: white;
  font-size: 16px;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s, background 0.3s;
  box-shadow: 0 0 10px var(--glow-color);
  animation: pulse 2s infinite alternate;
}
button:hover {
  transform: scale(1.05);
}

@keyframes pulse {
  from { box-shadow: 0 0 8px var(--glow-color); }
  to { box-shadow: 0 0 18px var(--glow-color); }
}

input {
  padding: 14px;
  width: 100%;
  border-radius: 10px;
  border: none;
  margin-top: 15px;
  font-size: 16px;
}

h2,h3,h4 { margin: 0 0 15px 0; }
p { line-height: 1.4; }
.back-btn {
  align-self: flex-start;
  width: auto;
  padding: 8px 14px;
}

/* Memories */
.memories-container { flex:1; overflow-y:auto; display:flex; flex-wrap:wrap; gap:10px; justify-content:center; }
.memories-container img { border-radius:12px; cursor:pointer; transition: transform 0.3s, box-shadow 0.3s; }
.memories-container img:hover { transform:scale(1.05); box-shadow:0 0 18px var(--glow-color); }

/* Polaroid */
.polaroid img { width:120px; height:120px; object-fit:cover; border:5px solid #fff; border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.5); transform: rotate(calc(-5deg + 10deg * var(--i))); }
.polaroid img:hover { transform:scale(1.05) rotate(calc(-3deg + 6deg * var(--i))); box-shadow:0 0 20px var(--glow-color); }

/* Circle */
.circle img { border-radius:50%; width:100px; height:100px; object-fit:cover; }

/* Grid */
.grid img { width:100px; height:100px; object-fit:cover; border-radius:8px; }

/* Flip */
.flip-container { perspective:1000px; display:inline-block; margin:5px; }
.flip-card { width:120px; height:120px; text-align:center; transition: transform 0.6s; transform-style: preserve-3d; cursor:pointer; }
.flip-card:hover { transform:rotateY(180deg) scale(1.05); }
.flip-card-front, .flip-card-back { position:absolute; width:120px; height:120px; backface-visibility:hidden; border-radius:12px; }
.flip-card-front { background-size:cover; }
.flip-card-back { background: var(--accent); color:#fff; display:flex; justify-content:center; align-items:center; transform:rotateY(180deg); }

/* Masonry */
.masonry { column-count:2; column-gap:10px; }
.masonry img { width:100%; border-radius:12px; margin-bottom:10px; }

/* Style overlay */
.style-btn { position:absolute; top:10px; right:10px; width:35px; height:35px; border-radius:8px; font-size:20px; display:flex; align-items:center; justify-content:center; padding:0; }
.style-overlay { position:absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.9); display:flex; flex-direction:column; justify-content:center; align-items:center; z-index:100; }
.style-overlay button { width:70%; margin:10px 0; }

/* Fullscreen overlay */
.fullscreen-overlay { position: fixed; top:0; left:0; width:100vw; height:100vh; background: rgba(0,0,0,0.95); display:flex; justify-content:center; align-items:center; z-index:200; opacity:0; pointer-events:none; transition: opacity 0.3s; }
.fullscreen-overlay.show { opacity:1; pointer-events:all; }
.fullscreen-overlay img { max-width:95%; max-height:90%; border-radius:12px; transition: transform 0.3s; }
.fullscreen-overlay button { position:absolute; top:20px; right:20px; font-size:20px; background:var(--accent); border-radius:8px; color:#fff; padding:8px 12px; }
</style>
</head>
<body>

<div class="app" id="app">
  <h2>Enter Password</h2>
  <input type="password" id="pw" placeholder="Only you know...">
  <button onclick="unlock()">Unlock</button>
  <p id="msg"></p>
</div>

<div class="fullscreen-overlay" id="fsOverlay">
  <img id="fsImg" src="">
  <button onclick="closeFullScreen()">‚úï</button>
</div>

<script>
let currentMemoryStyle = "polaroid";
const memories = ["memory1.jpeg","memory2.jpeg","memory3.jpeg","memory4.jpeg","memory5.jpeg","memory6.jpeg"];

function unlock(){
  const pw = document.getElementById("pw").value;
  if(pw==="1234") loadHome();
  else document.getElementById("msg").innerText="Wrong password.";
}

function fadeSwitch(newContent){
  const app = document.getElementById("app");
  app.style.opacity=0;
  setTimeout(()=>{ app.innerHTML=newContent; app.style.opacity=1; },300);
}

function loadHome(){
  fadeSwitch(`
    <h3>Her World ‚ù§Ô∏è</h3>
    <button onclick='themeMenu()'>üé® Theme</button>
    <button onclick='showBirthday()'>üéÇ Birthday</button>
    <button onclick='showMemories()'>üì∏ Memories</button>
    <button onclick='showLetters()'>üíå Letters</button>
  `);
}

function showBirthday(){
  fadeSwitch(`<button class='back-btn' onclick='loadHome()'>‚Üê Back</button>
  <h2>Birthday üéÇ</h2><p>Birthday celebrations, photos, and surprises here!</p>`);
}

function showMemories(){ renderMemories(currentMemoryStyle); }

function renderMemories(style){
  let html=`<button class='back-btn' onclick='loadHome()'>‚Üê Back</button>
            <button class='style-btn' onclick='openStyleOverlay()'>üé®</button>
            <div class="memories-container ${style}">`;
  if(style==="flip"){
    memories.forEach((src,i)=>{
      html+=`<div class="flip-container" onmousedown="openFullScreen('${src}')">
        <div class="flip-card">
          <div class="flip-card-front" style="background-image:url('${src}')"></div>
          <div class="flip-card-back">Memory ${i+1}</div>
        </div></div>`;
    });
  } else if(style==="masonry"){
    html+=`<div class="masonry">`;
    memories.forEach((src,i)=>{ html+=`<img src="${src}" alt="Memory ${i+1}" onmousedown="openFullScreen('${src}')">`; });
    html+=`</div>`;
  } else {
    memories.forEach((src,i)=>{ html+=`<img src="${src}" style="--i:${i}" alt="Memory ${i+1}" onmousedown="openFullScreen('${src}')">`; });
  }
  html+=`</div>`;
  fadeSwitch(html);
}

function openStyleOverlay(){
  let overlay=`<div class="style-overlay">
    <h3>Choose Memory Style</h3>
    <button onclick="selectMemoryStyle('polaroid')">Polaroid</button>
    <button onclick="selectMemoryStyle('circle')">Circle</button>
    <button onclick="selectMemoryStyle('grid')">Grid</button>
    <button onclick="selectMemoryStyle('flip')">Flip Cards</button>
    <button onclick="selectMemoryStyle('masonry')">Masonry</button>
    <h3>Choose Theme</h3>
    <button onclick="setDark()">Dark</button>
    <button onclick="setSoft()">Soft</button>
    <button onclick="setClassic()">Classic</button>
    <button onclick="setNightwing()">Nightwing</button>
    <button onclick="setToji()">Toji</button>
    <button class='back-btn' onclick="renderMemories(currentMemoryStyle)">‚Üê Cancel</button>
  </div>`;
  document.getElementById("app").innerHTML+=overlay;
}

function selectMemoryStyle(style){ currentMemoryStyle=style; renderMemories(style); }

/* Fullscreen */
function openFullScreen(src){ 
  const img=document.getElementById("fsImg");
  const overlay=document.getElementById("fsOverlay");
  img.src=src; overlay.classList.add("show"); img.style.transform="scale(0.8)";
  setTimeout(()=>{ img.style.transform="scale(1)"; },50);
}
function closeFullScreen(){ document.getElementById("fsOverlay").classList.remove("show"); }

/* Letters */
function showLetters(){
  fadeSwitch(`<button class='back-btn' onclick='loadHome()'>‚Üê Back</button>
  <h2>Letters üíå</h2><div class="typewriter" id="letter"></div>`);
  const text="Dear love, this is our letters section, each word for you ‚ù§Ô∏è";
  let i=0; const letterDiv=document.getElementById("letter");
  function typeWriter(){ if(i<text.length){ letterDiv.innerHTML+=text.charAt(i); i++; setTimeout(typeWriter,50);} }
  typeWriter();
}

/* Themes */
function themeMenu(){ fadeSwitch(`<h3>Select Theme</h3>
<button onclick='setDark()'>Dark</button>
<button onclick='setSoft()'>Soft</button>
<button onclick='setClassic()'>Classic</button>
<button onclick='setNightwing()'>Nightwing</button>
<button onclick='setToji()'>Toji</button>
<button class='back-btn' onclick='loadHome()'>‚Üê Back</button>`); }

function setDark(){ document.documentElement.style.setProperty('--bg','#111'); document.documentElement.style.setProperty('--card','#1c1c1c'); document.documentElement.style.setProperty('--text','#fff'); document.documentElement.style.setProperty('--accent','#ff4d6d'); document.documentElement.style.setProperty('--glow-color','#ff4d6d'); document.documentElement.style.setProperty('--bg-img','none'); }
function setSoft(){ document.documentElement.style.setProperty('--bg','#ffeef2'); document.documentElement.style.setProperty('--card','#fff'); document.documentElement.style.setProperty('--text','#333'); document.documentElement.style.setProperty('--accent','#ff85a2'); document.documentElement.style.setProperty('--glow-color','#ff85a2'); document.documentElement.style.setProperty('--bg-img','none'); }
function setClassic(){ document.documentElement.style.setProperty('--bg','#fff'); document.documentElement.style.setProperty('--card','#f5f5f5'); document.documentElement.style.setProperty('--text','#000'); document.documentElement.style.setProperty('--accent','#000'); document.documentElement.style.setProperty('--glow-color','#000'); document.documentElement.style.setProperty('--bg-img','none'); }

/* Nightwing Theme */
function setNightwing(){
  document.documentElement.style.setProperty('--bg','#0a0a0f');
  document.documentElement.style.setProperty('--card','#11121a');
  document.documentElement.style.setProperty('--text','#a8d0f0');
  document.documentElement.style.setProperty('--accent','#1c8adb');
  document.documentElement.style.setProperty('--glow-color','#1c8adb');
  document.documentElement.style.setProperty('--bg-img','url("nightwing-bg.jpeg")');
}

/* Toji Theme */
function setToji(){
  document.documentElement.style.setProperty('--bg','#000');
  document.documentElement.style.setProperty('--card','#1a1a1a');
  document.documentElement.style.setProperty('--text','#dcdfff');
  document.documentElement.style.setProperty('--accent','#8a2be2');
  document.documentElement.style.setProperty('--glow-color','#8a2be2');
  document.documentElement.style.setProperty('--bg-img','url("toji-bg.jpeg")');
}
</script>
</body>
</html>
